%set OUTPUT_NAME serial_port
%append MODULES $(OUTPUT_NAME):$(CONFIGPATH)

CONFIG_LICENSE_APP_BSD
CONFIG_APP_START

%inherit efm32-stk3600

%include scripts/options.build
%include arch/arch.build

%subsection dma
  CONFIG_DRIVER_EFM32_USART_CHAR
  CONFIG_DRIVER_EFM32_DMA
  CONFIG_DRIVER_EFM32_USART_CHAR_DMA
  CONFIG_DRIVER_EFM32_RTC
  CONFIG_DRIVER_EFM32_USART_CHAR_DMA_TIMEOUT_SYMBOL 64
  CONFIG_DRIVER_EFM32_USART_DMA_THRD 256
%else
  CONFIG_DRIVER_EFM32_USART_CHAR_DMA undefined
  CONFIG_DRIVER_EFM32_USART_CHAR_SWFIFO 128
%end

CONFIG_DRIVER_EFM32_USART_PRINTK undefined
CONFIG_DRIVER_EFM32_I2C undefined
CONFIG_DRIVER_EFM32_USART_SPI undefined

CONFIG_DRIVER_USB_SYNOPSYS_EFM32
CONFIG_DRIVER_CHAR_USBDEV_ACM
CONFIG_DRIVER_UART_FORWARDER
CONFIG_DEVICE_VALIO
CONFIG_DEVICE_VALIO_UART_CONFIG

CONFIG_DEVICE_CLOCK_THROTTLE

%subsection printk-rtt
  CONFIG_DRIVER_RTT_PRINTK
%end
