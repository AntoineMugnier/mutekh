%set OUTPUT_NAME nrf52_pdm

%append MODULES $(OUTPUT_NAME):$(CONFIGPATH)

CONFIG_LICENSE_APP_BSD

CONFIG_I2C_TEST_BOARD_NAME pca10040
CONFIG_DRIVER_NRF52_PDM
CONFIG_DRIVER_NRF5X_CLOCK
CONFIG_DRIVER_NRF5X_TIMER
CONFIG_DRIVER_NRF5X_GPIO

%subsection printk-uart
  CONFIG_DRIVER_NRF5X_PRINTK
  CONFIG_MUTEK_PRINTK_HEXDUMP
%end

%subsection shell-rtt
  CONFIG_DRIVER_CHAR_RTT
  CONFIG_DRIVER_CHAR_RTT_RX_BUFFER_SIZE 128
  %inherit shell
%end

%subsection printk-rtt
  CONFIG_DRIVER_RTT_PRINTK
  CONFIG_MUTEK_PRINTK_HEXDUMP
%end

%subsection shell-rtt
  CONFIG_DRIVER_CHAR_RTT
  CONFIG_DRIVER_CHAR_RTT_RX_BUFFER_SIZE 128
  %inherit shell
%end

%include scripts/options.build
%include arch/arch.build

CONFIG_COMPILE_OPTIMIZE s
CONFIG_COMPILE_DEBUG
CONFIG_APP_START
CONFIG_LIBM
