# PPI

%config CONFIG_DRIVER_NRF51_PPI
  desc Enable nRF51 PPI driver
  parent CONFIG_ARCH_NRF51
  flags auto
%config end

# GPIO

%config CONFIG_DRIVER_NRF51_GPIO
  desc Enable nRF51 GPIO driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_GPIO
%config end

%config CONFIG_DRIVER_NRF51_GPIO_ICU
  desc Enable nRF51 GPIO driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_ICU
  depend CONFIG_DEVICE_IRQ
%config end

%config CONFIG_DRIVER_NRF51_GPIO_INPUT_RANGE
  desc Enable nRF51 GPIO driver
  parent CONFIG_DRIVER_NRF51_GPIO_ICU
%config end

%config CONFIG_DRIVER_NRF51_GPIO_PWM
  desc Enable nRF51 GPIO PWM driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_PWM
  depend CONFIG_DEVICE_IRQ
  depend CONFIG_DRIVER_NRF51_PPI
%config end

# Memory controller

%config CONFIG_DRIVER_NRF51_NVMC
  desc Enable nRF51 Non volatile memory controller
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_MEM
%config end

%config CONFIG_DRIVER_NRF51_PERSIST
  desc Enable nRF51 Persistant storage controller
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_DELAYED_REQUEST
  depend CONFIG_DEVICE_PERSIST
%config end

%config CONFIG_DRIVER_NRF51_PERSIST_SIZE
  desc Persistant storage size
  parent CONFIG_DRIVER_NRF51_PERSIST
  flags value
  default 2048
%config end

%config CONFIG_DRIVER_NRF51_RAM
  desc Enable nRF51 RAM controller
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_MEM
%config end

# I2C

%config CONFIG_DRIVER_NRF51_I2C
  desc Enable nRF51 I2C driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_IOMUX
  depend CONFIG_DEVICE_I2C
  depend CONFIG_DEVICE_IRQ
%config end

# RTC

%config CONFIG_DRIVER_NRF51_RTC
  desc Enable nRF51 RTC driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_TIMER
  depend CONFIG_DEVICE_IRQ
%config end

# TIMER

%config CONFIG_DRIVER_NRF51_TIMER
  desc Enable nRF51 Timer driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_TIMER
  depend CONFIG_DEVICE_IRQ
%config end

# SPI

%config CONFIG_DRIVER_NRF51_SPI
  desc Enable nRF51 SPI driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_IOMUX
  depend CONFIG_DEVICE_SPI
  depend CONFIG_DEVICE_IRQ
%config end

# UART

%config CONFIG_DRIVER_NRF51_UART
  desc Enable nRF51 UART driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_IOMUX
  depend CONFIG_DEVICE_CHAR
  depend CONFIG_DEVICE_IRQ
%config end

%config CONFIG_DRIVER_NRF51_UART_SWFIFO
  desc Size of the software FIFO.
  parent CONFIG_DRIVER_NRF51_UART
  flags value
  default 32
  range [1,64]
%config end

# printk() output

%config CONFIG_DRIVER_NRF51_PRINTK
  desc Pin to use for UART console output
  parent CONFIG_ARCH_NRF51
  provide CONFIG_MUTEK_PRINTK_HANDLER
%config end

%init INIT_DRIVER_NRF51_PRINTK
  parent CONFIG_DRIVER_NRF51_PRINTK
  during INIT_MUTEK_PRINTK
  function nrf51_printk_init
%init end

%config CONFIG_DRIVER_NRF51_PRINTK_PIN
  desc Pin to use for UART console output
  parent CONFIG_DRIVER_NRF51_PRINTK
  flags value
%config end

%config CONFIG_DRIVER_NRF51_PRINTK_RATE
  desc Baudrate to use for UART console output
  parent CONFIG_DRIVER_NRF51_PRINTK
  flags value
  default 1000000
%config end

# Clock

%config CONFIG_DRIVER_NRF51_CLOCK
  desc Enable nRF51 clock driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_CLOCK
  depend CONFIG_DEVICE_IRQ
  flags auto
%config end

%init INIT_NRF51_CLOCK_INIT
  parent CONFIG_ARCH_NRF51
  during INIT_BOOTSTRAP
  before INIT_MEMORY
  function arch_nrf51_clock_init
%init end

%config CONFIG_DRIVER_NRF51_CLOCK_HFCLK_FREQ
  desc nRF51 High frequency clock frequency (MHz); 0 = not present
  parent CONFIG_ARCH_NRF51
  flags value
  default 0
%config end

%config CONFIG_DRIVER_NRF51_CLOCK_LFCLK_XOSC
  desc nRF51 Low frequency clock is 32.768KHz external christal
  parent CONFIG_ARCH_NRF51
%config end

# Radio

%config CONFIG_DRIVER_NRF51_BLE_RADIO
  desc Enable nRF51 Radio driver
  parent CONFIG_ARCH_NRF51
  depend CONFIG_DEVICE_BLE_RADIO
  depend CONFIG_BLE
  depend CONFIG_DEVICE_IRQ
  depend CONFIG_DRIVER_NRF51_PPI
%config end

%config CONFIG_DRIVER_NRF51_BLE_RADIO_DCDC
  desc Enable nRF51 Radio DCDC
  parent CONFIG_DRIVER_NRF51_BLE_RADIO
%config end

%config CONFIG_DRIVER_NRF51_BLE_RADIO_DEBUG
  desc Enable nRF51 Radio Debug code
  parent CONFIG_DRIVER_NRF51_BLE_RADIO
%config end
