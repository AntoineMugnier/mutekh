%config CONFIG_ARCH_NRF51
  desc Nordic nRF51 platform support
  module arch Hexo
  provide CONFIG_ARCH_META
  provide CONFIG_ARCH_NAME=nrf51
  single CONFIG_NRF51_822
%config end

%init INIT_NRF51_MEM_ALLOC
  parent CONFIG_ARCH_NRF51
  during INIT_MUTEK_MEMALLOC
  function nrf51_mem_init
%init end

%config CONFIG_NRF51_822
  desc Support for nRF51822 microcontrollers
  parent CONFIG_ARCH_NRF51
  depend CONFIG_CPU_ARM32M_CORTEXM0
  require CONFIG_NRF51_HFCLK_XTAL_FREQ
  single CONFIG_NRF51_LFCLK_XOSC CONFIG_NRF51_LFCLK_SYNTH CONFIG_NRF51_LFCLK_RC
%config end

%init INIT_NRF51_CLOCK_INIT
  parent CONFIG_ARCH_NRF51
  during INIT_BOOTSTRAP
  before INIT_MEMORY
  function nrf51_clock_init
%init end

%config CONFIG_NRF51_HFCLK_XTAL_FREQ 16
  desc nRF51 High frequency clock frequency (MHz)
  parent CONFIG_ARCH_NRF51
  flags value
%config end

%config CONFIG_NRF51_LFCLK_XOSC
  desc nRF51 Low frequency clock is 32.768KHz external christal
  parent CONFIG_ARCH_NRF51
%config end

%config CONFIG_NRF51_LFCLK_SYNTH
  desc nRF51 Low frequency clock is derived from HF clock
  parent CONFIG_ARCH_NRF51
%config end

%config CONFIG_NRF51_LFCLK_RC
  desc nRF51 Low frequency clock is internal RC
  parent CONFIG_ARCH_NRF51
%config end
