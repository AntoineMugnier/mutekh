%set OUTPUT_NAME tests

# New source code module to be compiled
%append MODULES $(OUTPUT_NAME):$(CONFIGPATH)

# Application license
CONFIG_LICENSE_APP_LGPL

CONFIG_APP_START
CONFIG_MUTEK_THREAD
CONFIG_MUTEK_SCHEDULER
CONFIG_MUTEK_KROUTINE_IDLE
CONFIG_MUTEK_KROUTINE_SCHED_SWITCH
CONFIG_MUTEK_PRINTK_HEXDUMP

CONFIG_BLE
CONFIG_BLE_CRYPTO

%section ble-*
  %subsection ble-nrf5x
    CONFIG_DRIVER_NRF5X_AES
    CONFIG_DRIVER_NRF5X_AES_CMAC
    CONFIG_DRIVER_NRF5X_AES_CCM
    CONFIG_DRIVER_NRF5X_RNG
    CONFIG_DRIVER_NRF5X_RTC
    CONFIG_DRIVER_NRF5X_CLOCK
    CONFIG_DRIVER_NRF5X_PRINTK
    CONFIG_DRIVER_NRF5X_TIMER
  %end

  %subsection ble-efm32
    CONFIG_DRIVER_EFM32_AES
  %end

  %subsection ble-soft
    CONFIG_DRIVER_CRYPTO_SOFT_AES
  %end
%end

%include scripts/options.build
%include arch/arch.build

CONFIG_HEXO_CPU_STACK_SIZE 0x800
