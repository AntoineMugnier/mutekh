
Atomic memory access operations depends on both processor and
platform. Some processors and platforms provide instructions
and lockable memory bus able to perform direct atomic operations on
memory. Other systems do not provide these mechanisms and relies on
specific locking devices.

Hexo provides a set of functions to perform simple atomic integer
operations on the current platform. Atomic operations are performed
using best available mechanism: direct processor atomic operations or
spin lock protected conventional integer access.

The following types and functions located in the
@code{<hexo/atomic.h>} header file must be used to perform atomic
integer operations:

@tindex atomic_int_t
@itemize
@item @code{atomic_int_t} is the integer type which match the
      word width used for atomic memory accesses.

@findex ATOMIC_INITIALIZER
@item The @code{ATOMIC_INITIALIZER(n)} macro can be used to statically
      initialize an atomic integer object.

@tindex atomic_t
@item @code{atomic_t} is the base type used to store an atomic integer
      object which should be accessed atomically.

@findex atomic_set
@item @code{void atomic_set(atomic_t *a, atomic_int_t value)}
      must be used to set the value of an atomic integer object.

@findex atomic_get
@item @code{atomic_int_t atomic_get(atomic_t *a)} must be used to read 
      the value of an atomic integer object.

@findex atomic_inc
@findex atomic_dec
@item @code{bool_t atomic_inc(atomic_t *a)} and @code{bool_t atomic_dec(atomic_t *a)}
      allow atomic increment and decrement of an atomic integer object.
      These functions return false (@code{0}) if the result is (@code{0}).

@findex atomic_bit_set
@findex atomic_bit_clr
@item @code{void atomic_bit_set(atomic_t *a, uint_fast8_t n)}
      and @code{void atomic_bit_clr(atomic_t *a, uint_fast8_t n)}
      can be used to set and clear a single bit in an atomic integer object.

@findex atomic_bit_testset
@findex atomic_bit_testclr
@item @code{bool_t atomic_bit_testset(atomic_t *a, uint_fast8_t n)}
      and @code{bool_t atomic_bit_testclr(atomic_t *a, uint_fast8_t n)}
      can be used to set and clear a single bit in an atomic integer object
      and test the previous bit value. These functions return @code{0} if
      the bit was cleared.

@findex atomic_bit_test
@item @code{bool_t atomic_bit_test(atomic_t *a, uint_fast8_t n)} can be used
      to test the value of a single bit in an atomic integer object. This
      function returns @code{0} if the bit is cleared.

@end itemize

